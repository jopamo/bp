conky.config = {
    alignment = 'top_right',
    background = true,
    border_width = 0,
    cpu_avg_samples = 2,
    default_color = 'white',
    default_outline_color = 'grey',
    default_shade_color = 'black',
    double_buffer = true,
    draw_borders = false,
    draw_graph_borders = true,
    draw_outline = false,
    draw_shades = false,
    extra_newline = false,
    font = 'Noto Sans Mono:size=18',
    gap_x = 20,
    gap_y = 60,
    minimum_width = 520,
    net_avg_samples = 2,
    no_buffers = true,
    out_to_console = false,
    out_to_ncurses = false,
    out_to_stderr = false,
    pad_percents = 2,
    show_graph_range = false,
    show_graph_scale = false,
    stippled_borders = 0,
    top_cpu_separate = true,
    update_interval = 1.0,
    uppercase = false,
    use_spacer = 'none',

    use_xft = true,
    xftalpha = 1.0,

    own_window = true,
    own_window_type = 'override',
    own_window_hints = 'undecorated,sticky,skip_taskbar,skip_pager,above',

    own_window_argb_visual = true,
    own_window_argb_value = 0,
    own_window_transparent = true,

    draw_blended = false,
    use_spacer = 'none',
}

conky.text = [[
${alignc}${color grey}${scroll 100 $sysname $nodename $kernel $machine}
${color grey}$hr
${alignc}${color grey}${time %A, %B %d %Y - %H:%M}
${color lightblue}Uptime:${color} $uptime
${color lightblue}Frequency:${color} ${freq_g} GHz
${color lightblue}RAM:${color} $mem/$memmax - $memperc% ${membar 4}
${color lightblue}Swap:${color} $swap/$swapmax - $swapperc% ${swapbar 4}
${color lightblue}CPU:${color} $cpu% ${cpubar 4}
${color lightblue}Processes:${color} $processes ${color lightblue}Running:${color} $running_processes
${color lightblue}Load Averages:${color} $loadavg
${color lightblue}Disk I/O:
${color}Read: ${diskio_read /dev/nvme0n1}  Write: ${diskio_write /dev/nvme0n1}
${color grey}$hr
${color lightblue}Disk /:${color} ${fs_used /}/${fs_size /} ${fs_bar 6 /}
${color grey}$hr
${color lightblue}Top Processes
${color grey}${hr 1}
${color lightgreen}${offset 10}Name${alignr 300}PID${alignr 200}CPU%${alignr 80}MEM%
${color lightgreen}${offset 10}${top name 1 28}${alignr 240}${top pid 1}${alignr 170}${top cpu 1}${alignr 80}${top mem 1}
${color lightgreen}${offset 10}${top name 2 28}${alignr 240}${top pid 2}${alignr 170}${top cpu 2}${alignr 80}${top mem 2}
${color lightgreen}${offset 10}${top name 3 28}${alignr 240}${top pid 3}${alignr 170}${top cpu 3}${alignr 80}${top mem 3}
${color lightgreen}${offset 10}${top name 4 28}${alignr 240}${top pid 4}${alignr 170}${top cpu 4}${alignr 80}${top mem 4}
${color lightgreen}${offset 10}${top name 5 28}${alignr 240}${top pid 5}${alignr 170}${top cpu 5}${alignr 80}${top mem 5}
${color lightgreen}${offset 10}${top name 6 28}${alignr 240}${top pid 6}${alignr 170}${top cpu 6}${alignr 80}${top mem 6}
${color lightgreen}${offset 10}${top name 7 28}${alignr 240}${top pid 7}${alignr 170}${top cpu 7}${alignr 80}${top mem 7}
${color lightgreen}${offset 10}${top name 8 28}${alignr 240}${top pid 8}${alignr 170}${top cpu 8}${alignr 80}${top mem 8}
${color lightgreen}${offset 10}${top name 9 28}${alignr 240}${top pid 9}${alignr 170}${top cpu 9}${alignr 80}${top mem 9}
${color lightgreen}${offset 10}${top name 10 28}${alignr 240}${top pid 10}${alignr 170}${top cpu 10}${alignr 80}${top mem 10}
${color grey}${hr 1}
${color lightblue}NVIDIA:
${color}GPU Core: ${nvidia gpufreq} MHz
${color}GPU Mem: ${nvidia memfreq} MHz
${color}GPU Temp: ${nvidia temp}Â°C
${color grey}$hr
${color lightblue}Network:
${color lightblue}Active IF:${color} ${gw_iface}
${color lightblue}Local IP:${color} ${addr ${gw_iface}}
${color lightblue}Up:${color} ${upspeed ${gw_iface}} ${color lightblue}Down:${color} ${downspeed ${gw_iface}}
${color grey}$hr
${color lightblue}Up:${color}   ${upspeedgraph ${gw_iface} 20,150 00ff00 ff0000 -t}
${color lightblue}Down:${color} ${downspeedgraph ${gw_iface} 20,150 00ff00 ff0000 -t}
${color grey}$hr
${color lightblue}Total Up:${color} ${totalup ${gw_iface}} ${color lightblue}Total Down:${color} ${totaldown ${gw_iface}}
${if_existing /sys/class/net/${gw_iface}/wireless}${color lightblue}WiFi:${color} ${wireless_essid ${gw_iface}} ${color lightblue}Signal:${color} ${wireless_link_qual_perc ${gw_iface}}%${endif}
${color grey}$hr
${color lightblue}Established Connections:
${execi 10 ss -H -tunp | awk '$1 == "tcp" && $2 == "ESTAB" && $NF ~ /^users:\(\(/ { gsub(/^users:\(\(/, "", $NF); gsub(/"\)\)/, "", $NF); split($NF, a, ","); print $5 " -> " $6 " (" a[1] ")"; }' | sort -u | head -n 5}
${color grey}$hr
]]
