server:
    # Run as a daemon
    do-daemonize: yes

    # Verbosity for debugging
    verbosity: 1

    # Listen on localhost
    interface: 127.0.0.1
    port: 5353

    # Allow queries from localhost (dnsmasq)
    access-control: 127.0.0.0/8 allow

    # Enable DNSSEC validation
    harden-dnssec-stripped: yes
    harden-referral-path: yes
    harden-algo-downgrade: yes

    # Enable TLS for upstream queries
    do-ip4: yes
    do-ip6: yes
    do-udp: yes
    do-tcp: yes
    ssl-upstream: yes

    # Cache settings for performance
    cache-max-ttl: 86400
    cache-min-ttl: 3600
    msg-cache-size: 50m
    rrset-cache-size: 100m
    prefetch: yes
    prefetch-key: yes

    # Logging (optional)
    use-syslog: yes

forward-zone:
    name: "."
    forward-tls-upstream: yes
    # Cloudflare DNS (primary)
    forward-addr: 1.1.1.1@853
    forward-addr: 1.0.0.1@853
    # Quad9 DNS (fallback)
    forward-addr: 9.9.9.9@853
    forward-addr: 149.112.112.112@853
